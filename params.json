{"name":"HBV","tagline":"HBV lumped rainfall-runoff model in C++. Simulation and calibration modes.","body":"###HBV Rainfall-Runoff Model (C++)\r\n\r\nBy [Matteo Giuliani](http://www.deib.polimi.it/personale/ruolo/dettaglio.php?id_persona=1250&idlang=eng&ruolo=6&lettera=), [Jon Herman](http://reed.cee.cornell.edu/index.php/Jon_Herman), and others.\r\n\r\nHBV Rainfall-runoff model, based on the work by ([Bergstrom 1995](http://www.cabdirect.org/abstracts/19961904773.html)). Runs on a daily timestep and saves all states and fluxes from each day for further analysis. \r\n\r\nBoth simulation and optimization (calibration) are available. Simulation mode is currently configured to read multiple parameter sets from `stdin` and evaluate them in order. Calibration is currently configured to work with ([MOEAFramework](http://moeaframework.org)), but may be easily modified for use with another application.\r\n\r\nContents:\r\n* `MOPEXData.cpp/h`: Read and store forcing data from the MOPEX dataset using the format shown in the `example_data` directory. This will not be needed for users who have their own forcing data in a different format.\r\n* `HBV.h`: Defines the `HBV` structure to store all states and fluxes at each timestep over the course of the evaluation.\r\n* `HBV.cpp`: Defines the functions for the processes in the model: degree-day snow, PDM soil moisture, Hamon PE, and the water balance between reservoirs. \r\n* `main_HBV.cpp`: Defines the initialization function (called once), the calculation function (called for each model evaluation), and the main function (performs model runs for each parameter set read from `stdin`).\r\n\r\nTo compile and run:\r\n\r\n* Run `make` to compile. Modify the makefile first to use a different compiler or flags.\r\n* Run `./hbv my_forcing_data.txt < my_parameter_samples.txt` to perform simulation\r\n* For calibration using [MOEAFramework](http://moeaframework.org), follow the instructions for connecting an external optimization problem [here](http://moeaframework.org/examples.html#example5). More detailed instructions are available from the [MOEAFramework Setup Guide](https://docs.google.com/document/pub?id=1Ts_tnvzZ-nDQ-Ym-RFtqM_LJMUNYKFZJ5WJdZxRmmrY). \r\n\r\nArguments:\r\n* `my_forcing_data.txt`: see the `example_data` directory for the format being used.\r\n* `my_parameter_samples.txt`: parameter sets to be evaluated in the model, with one parameter per column. Currently there are 12 parameters being read into the model, which would correspond to 12 columns per row of this file. The parameters are read from `stdin`, hence the `<` operator to pipe the contents of the file to the executable. The order of parameters to be read in can be modified at `main.cpp:60`.\r\n\r\nIn its current form, the model will output (or optimize) the mean squared error (MSE) from the time period. However, the output can easily be modified to include any combination of states/fluxes or error metrics from any time during the simulation.\r\n\r\nBased on work from the following paper:\r\nHerman, J.D., P.M. Reed, and T. Wagener (2013), Time-varying sensitivity analysis clarifies the effects of watershed model formulation on model behavior, Water Resour. Res., 49, doi:10.1002/wrcr.20124.\r\n([Link to Paper](http://onlinelibrary.wiley.com/doi/10.1002/wrcr.20124/abstract))\r\n\r\nCopyright (C) 2010-2013 Matteo Giuliani, Jon Herman, and others.\r\n\r\nHBV is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU Lesser General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nHBV is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU Lesser General Public License for more details.\r\n\r\nYou should have received a copy of the GNU Lesser General Public License\r\nalong with HBV.  If not, see <http://www.gnu.org/licenses/>.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}